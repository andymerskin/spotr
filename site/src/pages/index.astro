---
import Layout from "../layouts/Layout.astro";
import LandingSearchDemo from "../components/LandingSearchDemo";
import HeaderCodeExample from "../components/HeaderCodeExample";
import InstallCommand from "../components/InstallCommand";
import peopleData from "../data/people.json";
import gamesData from "../data/games.json";
import { Icon } from "astro-icon/components";
import spotrPkg from "../../../packages/spotr/package.json";
---

<Layout title="Spotr">
  <div class="min-h-screen bg-neutral-950 flex flex-col">
    {/* Header section - full width with darker background */}
    <header class="w-full bg-neutral-900 py-16 px-8">
      <div
        class="w-full max-w-6xl mx-auto flex flex-col lg:flex-row lg:items-start gap-8 lg:gap-12"
      >
        {/* Left column - Logo, description, buttons */}
        <div class="flex flex-col items-start flex-1">
          {/* Logo */}
          <div class="flex items-center gap-3">
            <img
              src={`${import.meta.env.BASE_URL}spotr.svg`}
              alt="Spotr"
              class="w-24 h-24"
            />
            <span class="text-5xl font-bold text-neutral-100">Spotr</span>
          </div>

          {/* Description */}
          <h1
            class="mt-8 text-3xl leading-normal font-bold text-neutral-100 text-left"
          >
            A powerful fuzzy search library for client-side collections
          </h1>

          <ul class="list-carets">
            <li>
              <span
                ><strong>Zero Dependencies</strong> - Custom Levenshtein implementation,
                no external deps</span>
            </li>
            <li>
              <span
                ><strong>Fuzzy Matching</strong> - Configurable threshold (0-1) for
                fuzzy string matching</span>
            </li>
            <li>
              <span
                ><strong>Nested Field Support</strong> - Dot notation for deeply nested
                object properties</span>
            </li>
            <li>
              <span
                ><strong>Keywords</strong> - Add custom filtering logic for exact
                keyword matches</span>
            </li>
            <li>
              <span
                ><strong>Framework Integrations</strong> - React, Vue, Svelte, Solid,
                and Preact support</span>
            </li>
            <li>
              <span
                ><strong>TypeScript</strong> - Full type definitions included</span>
            </li>
          </ul>

          {/* Buttons */}
          <div class="mt-8 flex gap-4">
            <a
              href={`${import.meta.env.BASE_URL}examples`}
              class="px-6 py-3 bg-cyan-600 text-white font-medium rounded-lg hover:bg-cyan-700 transition-colors"
            >
              Examples
            </a>
            <a
              href="https://github.com/andymerskin/spotr#readme"
              target="_blank"
              rel="noopener noreferrer"
              class="px-6 py-3 bg-neutral-800 text-neutral-200 font-medium rounded-lg border border-neutral-700 hover:bg-neutral-700 transition-colors"
            >
              Docs
            </a>
            <a
              href="https://github.com/andymerskin/spotr"
              target="_blank"
              rel="noopener noreferrer"
              class="px-6 py-3 bg-neutral-800 text-neutral-200 font-medium rounded-lg border border-neutral-700 hover:bg-neutral-700 transition-colors flex items-center gap-2"
            >
              <Icon
                name="logos:github-icon"
                class="inline-block invert"
                size={20}
              />
              GitHub
            </a>
          </div>

          {/* Install command */}
          <InstallCommand client:load />

          {/* Bundle info */}
          <p class="mt-3 text-sm text-neutral-400 flex items-center gap-2">
            ESM + CJS, tree-shakeable
            <span class="text-neutral-600">•</span>
            <a
              href="https://www.npmjs.com/package/spotr"
              target="_blank"
              rel="noopener noreferrer"
              class="hover:text-cyan-400 transition-colors"
            >
              v{spotrPkg.version}
            </a>
          </p>
        </div>

        {/* Right column - Framework code example */}
        <div class="shrink-0 w-full lg:w-auto">
          <HeaderCodeExample client:load />
        </div>
      </div>
    </header>

    {/* Main content section */}
    <main class="w-full px-6 py-12">
      <div class="w-full max-w-6xl mx-auto">
        <h2 class="text-3xl font-bold text-neutral-100">Give it a shot!</h2>
        <p class="mt-4 text-neutral-400 lg:max-w-2/3">This example demonstrates a few different configuration options used, with fields setup for fuzzy matching, keywords for exact subsets, and combining keywords with fuzzy search. Notice the results are scored based on the fuzzy field matches.</p>

        {/* Interactive Demo */}
        <div class="mt-12 w-full">
          <LandingSearchDemo
            client:load
            people={peopleData}
            games={gamesData}
          />
        </div>
      </div>
    </main>

    {/* Footer */}
    <footer class="w-full mt-12 px-6 py-6 bg-black">
      <div
        class="w-full max-w-6xl mx-auto flex flex-col sm:flex-row sm:items-start gap-8 text-left"
      >
        <div class="space-y-2">
          <h2 class="font-jersey text-4xl text-emerald-500">munchkin.dev</h2>
          <p class="text-sm text-neutral-400">
            © 2026 munchkin.dev. Built with <a
              href="https://astro.build"
              target="_blank"
              rel="noopener noreferrer"
              class="text-cyan-500 hover:text-cyan-400">Astro</a
            >
          </p>
        </div>
        <nav class="flex flex-col gap-2 text-sm text-neutral-400 sm:mt-0.5">
          <a
            href="https://github.com/andymerskin/spotr"
            target="_blank"
            rel="noopener noreferrer"
            class="hover:text-cyan-400 inline-flex items-center gap-1 w-fit"
          >
            <Icon
              name="logos:github-icon"
              class="inline-block invert"
              size={16}
            />
            GitHub
          </a>
          <a
            href="https://github.com/andymerskin/spotr#readme"
            target="_blank"
            rel="noopener noreferrer"
            class="hover:text-cyan-400 w-fit"
          >
            Docs
          </a>
          <a
            href={`${import.meta.env.BASE_URL}examples`}
            class="hover:text-cyan-400 w-fit"
          >
            Examples
          </a>
        </nav>
        <div class="flex flex-col gap-2 text-sm text-neutral-400 sm:mt-0.5">
          <a
            href="https://www.npmjs.com/package/spotr"
            target="_blank"
            rel="noopener noreferrer"
            class="hover:text-cyan-400 w-fit"
          >
            v{spotrPkg.version}
          </a>
          <a
            href="https://github.com/andymerskin/spotr/blob/master/LICENSE"
            target="_blank"
            rel="noopener noreferrer"
            class="hover:text-cyan-400 w-fit"
          >
            MIT License
          </a>
        </div>
      </div>
    </footer>
  </div>
</Layout>
